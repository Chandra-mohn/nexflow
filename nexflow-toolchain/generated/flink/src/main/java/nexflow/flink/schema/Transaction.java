/**
 * Transaction
 *
 * POJO for transaction schema
 *
 * AUTO-GENERATED by Nexflow Code Generator
 * DO NOT EDIT - Changes will be overwritten
 *
 * Generator: SchemaGenerator
 */

package nexflow.flink.schema;

import java.io.Serializable;
import java.math.BigDecimal;
import java.time.Instant;
import java.util.UUID;


public class Transaction implements Serializable {

    private static final long serialVersionUID = 1L;

        private UUID transactionId;
        private String customerId;
        private BigDecimal amount;
        private String currency;
        private String merchantId;
        private String merchantName;
        private String category;
        private Instant eventTimestamp;
        private Instant processingTimestamp;
        private String status;
        private BigDecimal riskScore;
        private String ipAddress;
        private String deviceFingerprint;

    public Transaction() {
        // Default constructor
    }

    public UUID getTransactionId() {
        return this.transactionId;
    }

    public void setTransactionId(UUID transactionId) {
        this.transactionId = transactionId;
    }

    public String getCustomerId() {
        return this.customerId;
    }

    public void setCustomerId(String customerId) {
        this.customerId = customerId;
    }

    public BigDecimal getAmount() {
        return this.amount;
    }

    public void setAmount(BigDecimal amount) {
        this.amount = amount;
    }

    public String getCurrency() {
        return this.currency;
    }

    public void setCurrency(String currency) {
        this.currency = currency;
    }

    public String getMerchantId() {
        return this.merchantId;
    }

    public void setMerchantId(String merchantId) {
        this.merchantId = merchantId;
    }

    public String getMerchantName() {
        return this.merchantName;
    }

    public void setMerchantName(String merchantName) {
        this.merchantName = merchantName;
    }

    public String getCategory() {
        return this.category;
    }

    public void setCategory(String category) {
        this.category = category;
    }

    public Instant getEventTimestamp() {
        return this.eventTimestamp;
    }

    public void setEventTimestamp(Instant eventTimestamp) {
        this.eventTimestamp = eventTimestamp;
    }

    public Instant getProcessingTimestamp() {
        return this.processingTimestamp;
    }

    public void setProcessingTimestamp(Instant processingTimestamp) {
        this.processingTimestamp = processingTimestamp;
    }

    public String getStatus() {
        return this.status;
    }

    public void setStatus(String status) {
        this.status = status;
    }

    public BigDecimal getRiskScore() {
        return this.riskScore;
    }

    public void setRiskScore(BigDecimal riskScore) {
        this.riskScore = riskScore;
    }

    public String getIpAddress() {
        return this.ipAddress;
    }

    public void setIpAddress(String ipAddress) {
        this.ipAddress = ipAddress;
    }

    public String getDeviceFingerprint() {
        return this.deviceFingerprint;
    }

    public void setDeviceFingerprint(String deviceFingerprint) {
        this.deviceFingerprint = deviceFingerprint;
    }

    /**
     * Generate correlation key from specified fields.
     * Used by Flink keying operations for event correlation.
     *
     * @param fields Array of field names to include in the key
     * @return Concatenated string key from field values
     */
    public String getCorrelationKey(String[] fields) {
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < fields.length; i++) {
            if (i > 0) sb.append(":");
            switch (fields[i]) {
                case "transaction_id":
                    sb.append(getTransactionId());
                    break;
                case "customer_id":
                    sb.append(getCustomerId());
                    break;
                case "amount":
                    sb.append(getAmount());
                    break;
                case "currency":
                    sb.append(getCurrency());
                    break;
                case "merchant_id":
                    sb.append(getMerchantId());
                    break;
                case "merchant_name":
                    sb.append(getMerchantName());
                    break;
                case "category":
                    sb.append(getCategory());
                    break;
                case "event_timestamp":
                    sb.append(getEventTimestamp());
                    break;
                case "processing_timestamp":
                    sb.append(getProcessingTimestamp());
                    break;
                case "status":
                    sb.append(getStatus());
                    break;
                case "risk_score":
                    sb.append(getRiskScore());
                    break;
                case "ip_address":
                    sb.append(getIpAddress());
                    break;
                case "device_fingerprint":
                    sb.append(getDeviceFingerprint());
                    break;
                default:
                    sb.append("null");
            }
        }
        return sb.toString();
    }

    /**
     * Alias for getCorrelationKey - used by hold patterns for buffer keying.
     */
    public String getBufferKey(String[] fields) {
        return getCorrelationKey(fields);
    }

    /**
     * Get simple key for this record (first identity field or fallback).
     * Used by window operations and RoutedEvent compatibility.
     */
    public String getKey() {
        // Return first non-null identity field as default key
        Object val = getTransactionId();
        return val != null ? val.toString() : "null";
    }

    @Override
    public String toString() {
        return "Transaction{" +
                "transactionId=" + transactionId +
                ", customerId=" + customerId +
                ", amount=" + amount +
                ", currency=" + currency +
                ", merchantId=" + merchantId +
                ", merchantName=" + merchantName +
                ", category=" + category +
                ", eventTimestamp=" + eventTimestamp +
                ", processingTimestamp=" + processingTimestamp +
                ", status=" + status +
                ", riskScore=" + riskScore +
                ", ipAddress=" + ipAddress +
                ", deviceFingerprint=" + deviceFingerprint +
                "}";
    }
}
